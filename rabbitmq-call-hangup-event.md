# Publish HangUp Event in Rabbit MQ

### 1. Add / Create amqp.cong.xml file 

- change IP, username, password and port of RabbitMq Accordingly

`/freeswitch/config/autoload_configs/amqp.conf.xml`

```xml
<configuration name="amqp.conf" description="mod_amqp">
  <producers>
    <profile name="hangup">
      <connections>
        <connection name="primary">
          <param name="hostname" value="10.30.40.77"/>
          <param name="virtualhost" value="/"/>
          <param name="username" value="admin"/>
          <param name="password" value="Rabbit@1234"/>
          <param name="port" value="5672"/>
          <param name="heartbeat" value="0"/>
        </connection>
      </connections>
      <params>
        <param name="exchange-name" value="freeswitch.hangup"/>
        <param name="exchange-type" value="fanout"/>
        <param name="reconnect_interval_ms" value="1000"/>
        <param name="send_queue_size" value="5000"/>
        
        <!-- Listen for channel hangup complete events -->
        <param name="event_filter" value="SWITCH_EVENT_CHANNEL_HANGUP_COMPLETE"/>
        
        <!-- Simple message format -->
        <param name="format_fields" value="#CallEnded"/>
      </params>
    </profile>
  </producers>
</configuration>
```

### 2. Add the below lines in modules.conf.xml if not present 

`/freeswitch/config/autoload_configs/modules.conf.xml`

```xml
    <load module="mod_amqp"/>
    <load module="mod_amqp_cdr"/>
```

## Payload sent to RabbitMq 

### 1. Call Originated from Twinkle Outbound Call

```json
{
  "Event-Name": "CHANNEL_HANGUP_COMPLETE",
  "Core-UUID": "897e7358-4598-4210-a3e3-745f96903647",
  "FreeSWITCH-Hostname": "OL03LTL-GNR0092",
  "FreeSWITCH-Switchname": "OL03LTL-GNR0092",
  "FreeSWITCH-IPv4": "10.30.40.77",
  "FreeSWITCH-IPv6": "::1",
  "Event-Date-Local": "2025-11-13 16:28:24",
  "Event-Date-GMT": "Thu, 13 Nov 2025 10:58:24 GMT",
  "Event-Date-Timestamp": "1763031504077319",
  "Event-Calling-File": "switch_core_state_machine.c",
  "Event-Calling-Function": "switch_core_session_reporting_state",
  "Event-Calling-Line-Number": "943",
  "Event-Sequence": "797",
  "Hangup-Cause": "ORIGINATOR_CANCEL",
  "Channel-State": "CS_REPORTING",
  "Channel-Call-State": "HANGUP",
  "Channel-State-Number": "11",
  "Channel-Name": "sofia/internal/1003@10.30.40.77:5070",
  "Unique-ID": "a4670a4d-cac6-4022-9f97-7ff77cfb9ee4",
  "Call-Direction": "outbound",
  "Presence-Call-Direction": "outbound",
  "Channel-HIT-Dialplan": "false",
  "Channel-Presence-ID": "1003@10.30.40.77",
  "Channel-Call-UUID": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "Answer-State": "hangup",
  "Caller-Direction": "outbound",
  "Caller-Logical-Direction": "outbound",
  "Caller-Username": "1001",
  "Caller-Dialplan": "XML",
  "Caller-Caller-ID-Name": "1001",
  "Caller-Caller-ID-Number": "1001",
  "Caller-Orig-Caller-ID-Name": "1001",
  "Caller-Orig-Caller-ID-Number": "1001",
  "Caller-Callee-ID-Name": "Outbound Call",
  "Caller-Callee-ID-Number": "1003",
  "Caller-Network-Addr": "10.30.40.77",
  "Caller-ANI": "1001",
  "Caller-Destination-Number": "1003",
  "Caller-Unique-ID": "a4670a4d-cac6-4022-9f97-7ff77cfb9ee4",
  "Caller-Source": "mod_sofia",
  "Caller-Context": "default",
  "Caller-RDNIS": "1003",
  "Caller-Channel-Name": "sofia/internal/1003@10.30.40.77:5070",
  "Caller-Profile-Index": "1",
  "Caller-Profile-Created-Time": "1763031502257319",
  "Caller-Channel-Created-Time": "1763031502257319",
  "Caller-Channel-Answered-Time": "0",
  "Caller-Channel-Progress-Time": "1763031502277314",
  "Caller-Channel-Progress-Media-Time": "0",
  "Caller-Channel-Hangup-Time": "1763031504077319",
  "Caller-Channel-Transfer-Time": "0",
  "Caller-Channel-Resurrect-Time": "0",
  "Caller-Channel-Bridged-Time": "0",
  "Caller-Channel-Last-Hold": "0",
  "Caller-Channel-Hold-Accum": "0",
  "Caller-Screen-Bit": "true",
  "Caller-Privacy-Hide-Name": "false",
  "Caller-Privacy-Hide-Number": "false",
  "Other-Type": "originator",
  "Other-Leg-Direction": "inbound",
  "Other-Leg-Logical-Direction": "inbound",
  "Other-Leg-Username": "1001",
  "Other-Leg-Dialplan": "XML",
  "Other-Leg-Caller-ID-Name": "1001",
  "Other-Leg-Caller-ID-Number": "1001",
  "Other-Leg-Orig-Caller-ID-Name": "1001",
  "Other-Leg-Orig-Caller-ID-Number": "1001",
  "Other-Leg-Network-Addr": "10.30.40.77",
  "Other-Leg-ANI": "1001",
  "Other-Leg-Destination-Number": "1003",
  "Other-Leg-Unique-ID": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "Other-Leg-Source": "mod_sofia",
  "Other-Leg-Context": "default",
  "Other-Leg-RDNIS": "1003",
  "Other-Leg-Channel-Name": "sofia/internal/1001@10.30.40.77",
  "Other-Leg-Profile-Created-Time": "0",
  "Other-Leg-Channel-Created-Time": "0",
  "Other-Leg-Channel-Answered-Time": "0",
  "Other-Leg-Channel-Progress-Time": "1763031502277314",
  "Other-Leg-Channel-Progress-Media-Time": "0",
  "Other-Leg-Channel-Hangup-Time": "0",
  "Other-Leg-Channel-Transfer-Time": "0",
  "Other-Leg-Channel-Resurrect-Time": "0",
  "Other-Leg-Channel-Bridged-Time": "0",
  "Other-Leg-Channel-Last-Hold": "0",
  "Other-Leg-Channel-Hold-Accum": "0",
  "Other-Leg-Screen-Bit": "true",
  "Other-Leg-Privacy-Hide-Name": "false",
  "Other-Leg-Privacy-Hide-Number": "false",
  "variable_direction": "outbound",
  "variable_is_outbound": "true",
  "variable_uuid": "a4670a4d-cac6-4022-9f97-7ff77cfb9ee4",
  "variable_session_id": "4",
  "variable_sip_profile_name": "internal",
  "variable_text_media_flow": "disabled",
  "variable_channel_name": "sofia/internal/1003@10.30.40.77:5070",
  "variable_sip_destination_url": "sip:1003@10.30.40.77:5070",
  "variable_max_forwards": "68",
  "variable_originator_codec": "CORE_PCM_MODULE.PCMA@8000h@20i@64000b,CORE_PCM_MODULE.PCMU@8000h@20i@64000b",
  "variable_originator": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "variable_signal_bond": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "variable_switch_m_sdp": "v=0\r\no=twinkle 1517167409 261850691 IN IP4 10.30.40.77\r\ns=-\r\nc=IN IP4 10.30.40.77\r\nt=0 0\r\nm=audio 8000 RTP/AVP 98 97 8 0 3 101\r\na=rtpmap:98 speex/16000\r\na=rtpmap:97 speex/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:3 GSM/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=ptime:20\r\n",
  "variable_call_uuid": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "variable_dialed_user": "1003",
  "variable_dialed_domain": "10.30.40.77",
  "variable_export_vars": "RFC2822_DATE,cdr_include_all_variables,RFC2822_DATE,dialed_extension",
  "variable_cdr_include_all_variables": "true",
  "variable_RFC2822_DATE": "Thu, 13 Nov 2025 16:28:22 +0530",
  "variable_dialed_extension": "1003",
  "variable_sip_invite_domain": "10.30.40.77",
  "variable_presence_id": "1003@10.30.40.77",
  "variable_originate_early_media": "true",
  "variable_originating_leg_uuid": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "variable_originate_endpoint": "sofia",
  "variable_rtp_use_codec_string": "CORE_PCM_MODULE.PCMA@8000h@20i@64000b,CORE_PCM_MODULE.PCMU@8000h@20i@64000b",
  "variable_local_media_ip": "10.30.40.77",
  "variable_local_media_port": "27374",
  "variable_advertised_media_ip": "10.30.40.77",
  "variable_audio_media_flow": "sendrecv",
  "variable_video_media_flow": "sendrecv",
  "variable_rtp_local_sdp_str": "v=0\r\no=FreeSWITCH 1763004128 1763004129 IN IP4 10.30.40.77\r\ns=FreeSWITCH\r\nc=IN IP4 10.30.40.77\r\nt=0 0\r\nm=audio 27374 RTP/AVP 8 0 101\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=ptime:20\r\na=sendrecv\r\n",
  "variable_sip_outgoing_contact_uri": "<sip:mod_sofia@27.107.1.210:5060>",
  "variable_sip_req_uri": "1003@10.30.40.77:5070",
  "variable_sofia_profile_name": "internal",
  "variable_recovery_profile_name": "internal",
  "variable_sofia_profile_url": "sip:mod_sofia@27.107.1.210:5060",
  "variable_sip_local_network_addr": "27.107.1.210",
  "variable_sip_reply_host": "10.30.40.77",
  "variable_sip_reply_port": "5070",
  "variable_sip_network_ip": "10.30.40.77",
  "variable_sip_network_port": "5070",
  "variable_sip_user_agent": "Twinkle/1.10.2",
  "variable_sip_recover_contact": "<sip:1003@10.30.40.77:5070>",
  "variable_sip_full_via": "SIP/2.0/UDP 27.107.1.210;received=10.30.40.77;rport=5060;branch=z9hG4bKDmXy4KmeU33yF",
  "variable_sip_recover_via": "SIP/2.0/UDP 27.107.1.210;received=10.30.40.77;rport=5060;branch=z9hG4bKDmXy4KmeU33yF",
  "variable_sip_from_display": "1001",
  "variable_sip_full_from": "\"1001\" <sip:1001@10.30.40.77>;tag=mKN6FKF9yDtja",
  "variable_sip_full_to": "<sip:1003@10.30.40.77:5070>;tag=ihyjq",
  "variable_sip_from_user": "1001",
  "variable_sip_from_uri": "1001@10.30.40.77",
  "variable_sip_from_host": "10.30.40.77",
  "variable_sip_to_user": "1003",
  "variable_sip_to_port": "5070",
  "variable_sip_to_uri": "1003@10.30.40.77:5070",
  "variable_sip_to_host": "10.30.40.77",
  "variable_sip_contact_user": "1003",
  "variable_sip_contact_port": "5070",
  "variable_sip_contact_uri": "1003@10.30.40.77:5070",
  "variable_sip_contact_host": "10.30.40.77",
  "variable_sip_to_tag": "ihyjq",
  "variable_sip_from_tag": "mKN6FKF9yDtja",
  "variable_sip_cseq": "106961959",
  "variable_sip_call_id": "83155871-3b22-123f-40b4-d0ad08a61780",
  "variable_sip_hangup_phrase": "Request Terminated",
  "variable_last_bridge_hangup_cause": "ORIGINATOR_CANCEL",
  "variable_last_bridge_proto_specific_hangup_cause": "sip:487",
  "variable_hangup_cause": "ORIGINATOR_CANCEL",
  "variable_hangup_cause_q850": "16",
  "variable_digits_dialed": "none",
  "variable_start_stamp": "2025-11-13 16:28:22",
  "variable_profile_start_stamp": "2025-11-13 16:28:22",
  "variable_progress_stamp": "2025-11-13 16:28:22",
  "variable_end_stamp": "2025-11-13 16:28:24",
  "variable_start_epoch": "1763031502",
  "variable_start_uepoch": "1763031502257319",
  "variable_profile_start_epoch": "1763031502",
  "variable_profile_start_uepoch": "1763031502257319",
  "variable_answer_epoch": "0",
  "variable_answer_uepoch": "0",
  "variable_bridge_epoch": "0",
  "variable_bridge_uepoch": "0",
  "variable_last_hold_epoch": "0",
  "variable_last_hold_uepoch": "0",
  "variable_hold_accum_seconds": "0",
  "variable_hold_accum_usec": "0",
  "variable_hold_accum_ms": "0",
  "variable_resurrect_epoch": "0",
  "variable_resurrect_uepoch": "0",
  "variable_progress_epoch": "1763031502",
  "variable_progress_uepoch": "1763031502277314",
  "variable_progress_media_epoch": "0",
  "variable_progress_media_uepoch": "0",
  "variable_end_epoch": "1763031504",
  "variable_end_uepoch": "1763031504077319",
  "variable_caller_id": "\"1001\" <1001>",
  "variable_duration": "2",
  "variable_billsec": "0",
  "variable_progresssec": "0",
  "variable_answersec": "0",
  "variable_waitsec": "0",
  "variable_progress_mediasec": "0",
  "variable_flow_billsec": "0",
  "variable_mduration": "1820",
  "variable_billmsec": "0",
  "variable_progressmsec": "20",
  "variable_answermsec": "0",
  "variable_waitmsec": "0",
  "variable_progress_mediamsec": "0",
  "variable_flow_billmsec": "0",
  "variable_uduration": "1820000",
  "variable_billusec": "0",
  "variable_progressusec": "19995",
  "variable_answerusec": "0",
  "variable_waitusec": "0",
  "variable_progress_mediausec": "0",
  "variable_flow_billusec": "0",
  "variable_sip_hangup_disposition": "send_cancel",
  "variable_sip_invite_failure_status": "487",
  "variable_sip_invite_failure_phrase": "CANCEL"
}
```

### 2. Call Originated from Twinkle Inbound Call

```json
{
  "Event-Name": "CHANNEL_HANGUP_COMPLETE",
  "Core-UUID": "897e7358-4598-4210-a3e3-745f96903647",
  "FreeSWITCH-Hostname": "OL03LTL-GNR0092",
  "FreeSWITCH-Switchname": "OL03LTL-GNR0092",
  "FreeSWITCH-IPv4": "10.30.40.77",
  "FreeSWITCH-IPv6": "::1",
  "Event-Date-Local": "2025-11-13 16:28:24",
  "Event-Date-GMT": "Thu, 13 Nov 2025 10:58:24 GMT",
  "Event-Date-Timestamp": "1763031504077319",
  "Event-Calling-File": "switch_core_state_machine.c",
  "Event-Calling-Function": "switch_core_session_reporting_state",
  "Event-Calling-Line-Number": "943",
  "Event-Sequence": "802",
  "Hangup-Cause": "ORIGINATOR_CANCEL",
  "Channel-State": "CS_REPORTING",
  "Channel-Call-State": "HANGUP",
  "Channel-State-Number": "11",
  "Channel-Name": "sofia/internal/1001@10.30.40.77",
  "Unique-ID": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "Call-Direction": "inbound",
  "Presence-Call-Direction": "inbound",
  "Channel-HIT-Dialplan": "true",
  "Channel-Presence-ID": "1001@10.30.40.77",
  "Channel-Call-UUID": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "Answer-State": "hangup",
  "Channel-Read-Codec-Name": "PCMA",
  "Channel-Read-Codec-Rate": "8000",
  "Channel-Read-Codec-Bit-Rate": "64000",
  "Channel-Write-Codec-Name": "PCMA",
  "Channel-Write-Codec-Rate": "8000",
  "Channel-Write-Codec-Bit-Rate": "64000",
  "Caller-Direction": "inbound",
  "Caller-Logical-Direction": "inbound",
  "Caller-Username": "1001",
  "Caller-Dialplan": "XML",
  "Caller-Caller-ID-Name": "1001",
  "Caller-Caller-ID-Number": "1001",
  "Caller-Orig-Caller-ID-Name": "1001",
  "Caller-Orig-Caller-ID-Number": "1001",
  "Caller-Network-Addr": "10.30.40.77",
  "Caller-ANI": "1001",
  "Caller-Destination-Number": "1003",
  "Caller-Unique-ID": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "Caller-Source": "mod_sofia",
  "Caller-Transfer-Source": "1763031492:171334a9-a890-4dd9-a1fb-473b91494dc1:bl_xfer:1003/default/XML",
  "Caller-Context": "default",
  "Caller-RDNIS": "1003",
  "Caller-Channel-Name": "sofia/internal/1001@10.30.40.77",
  "Caller-Profile-Index": "2",
  "Caller-Profile-Created-Time": "1763031492237294",
  "Caller-Channel-Created-Time": "1763031492237294",
  "Caller-Channel-Answered-Time": "0",
  "Caller-Channel-Progress-Time": "1763031502277314",
  "Caller-Channel-Progress-Media-Time": "1763031502297295",
  "Caller-Channel-Hangup-Time": "1763031504077319",
  "Caller-Channel-Transfer-Time": "0",
  "Caller-Channel-Resurrect-Time": "0",
  "Caller-Channel-Bridged-Time": "0",
  "Caller-Channel-Last-Hold": "0",
  "Caller-Channel-Hold-Accum": "0",
  "Caller-Screen-Bit": "true",
  "Caller-Privacy-Hide-Name": "false",
  "Caller-Privacy-Hide-Number": "false",
  "variable_direction": "inbound",
  "variable_uuid": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "variable_session_id": "3",
  "variable_sip_from_user": "1001",
  "variable_sip_from_uri": "1001@10.30.40.77",
  "variable_sip_from_host": "10.30.40.77",
  "variable_video_media_flow": "disabled",
  "variable_text_media_flow": "disabled",
  "variable_channel_name": "sofia/internal/1001@10.30.40.77",
  "variable_sip_call_id": "qhlzidwbmnacyco@OL03LTL-GNR0092",
  "variable_sip_local_network_addr": "27.107.1.210",
  "variable_sip_network_ip": "10.30.40.77",
  "variable_sip_network_port": "5070",
  "variable_sip_invite_stamp": "1763031492237294",
  "variable_sip_received_ip": "10.30.40.77",
  "variable_sip_received_port": "5070",
  "variable_sip_via_protocol": "udp",
  "variable_sip_authorized": "true",
  "variable_sip_acl_authed_by": "domains",
  "variable_sip_from_user_stripped": "1001",
  "variable_sip_from_tag": "ytwgg",
  "variable_sofia_profile_name": "internal",
  "variable_sofia_profile_url": "sip:mod_sofia@27.107.1.210:5060",
  "variable_recovery_profile_name": "internal",
  "variable_sip_full_via": "SIP/2.0/UDP 10.30.40.77:5070;rport=5070;branch=z9hG4bKhylujnrp",
  "variable_sip_from_display": "1001",
  "variable_sip_full_from": "\"1001\" <sip:1001@10.30.40.77>;tag=ytwgg",
  "variable_sip_full_to": "<sip:1003@10.30.40.77>",
  "variable_sip_allow": "INVITE, ACK, BYE, CANCEL, OPTIONS, PRACK, REFER, NOTIFY, SUBSCRIBE, INFO, MESSAGE",
  "variable_sip_req_user": "1003",
  "variable_sip_req_uri": "1003@10.30.40.77",
  "variable_sip_req_host": "10.30.40.77",
  "variable_sip_to_user": "1003",
  "variable_sip_to_uri": "1003@10.30.40.77",
  "variable_sip_to_host": "10.30.40.77",
  "variable_sip_contact_user": "1001",
  "variable_sip_contact_port": "5070",
  "variable_sip_contact_uri": "1001@10.30.40.77:5070",
  "variable_sip_contact_host": "10.30.40.77",
  "variable_sip_user_agent": "Twinkle/1.10.2",
  "variable_sip_via_host": "10.30.40.77",
  "variable_sip_via_port": "5070",
  "variable_sip_via_rport": "5070",
  "variable_presence_id": "1001@10.30.40.77",
  "variable_switch_r_sdp": "v=0\r\no=twinkle 1517167409 261850691 IN IP4 10.30.40.77\r\ns=-\r\nc=IN IP4 10.30.40.77\r\nt=0 0\r\nm=audio 8000 RTP/AVP 98 97 8 0 3 101\r\na=rtpmap:98 speex/16000\r\na=rtpmap:97 speex/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:3 GSM/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=ptime:20\r\n",
  "variable_ep_codec_string": "CORE_PCM_MODULE.PCMA@8000h@20i@64000b,CORE_PCM_MODULE.PCMU@8000h@20i@64000b",
  "variable_outside_call": "true",
  "variable_max_forwards": "69",
  "variable_transfer_history": "1763031492:171334a9-a890-4dd9-a1fb-473b91494dc1:bl_xfer:1003/default/XML",
  "variable_transfer_source": "1763031492:171334a9-a890-4dd9-a1fb-473b91494dc1:bl_xfer:1003/default/XML",
  "variable_DP_MATCH": [
    "1003",
    "1003"
  ],
  "variable_call_uuid": "4ad66e9b-f250-411d-98d7-476f9711bb25",
  "variable_cdr_enable": "true",
  "variable_cdr_include_all_variables": "true",
  "variable_open": "true",
  "variable_RFC2822_DATE": "Thu, 13 Nov 2025 16:28:22 +0530",
  "variable_dialed_extension": "1003",
  "variable_export_vars": "RFC2822_DATE,cdr_include_all_variables,RFC2822_DATE,dialed_extension",
  "variable_ringback": "%(2000,4000,440,480)",
  "variable_transfer_ringback": "local_stream://moh",
  "variable_call_timeout": "30",
  "variable_hangup_after_bridge": "true",
  "variable_continue_on_fail": "true",
  "variable_called_party_callgroup": "techsupport",
  "variable_current_application_data": "user/1003@10.30.40.77",
  "variable_current_application": "bridge",
  "variable_dialed_user": "1003",
  "variable_dialed_domain": "10.30.40.77",
  "variable_originate_signal_bond": "a4670a4d-cac6-4022-9f97-7ff77cfb9ee4",
  "variable_originated_legs": "a4670a4d-cac6-4022-9f97-7ff77cfb9ee4;Outbound Call;1003",
  "variable_rtp_use_codec_string": "OPUS,G722,PCMU,PCMA,H264,VP8",
  "variable_remote_video_media_flow": "inactive",
  "variable_remote_text_media_flow": "inactive",
  "variable_remote_audio_media_flow": "sendrecv",
  "variable_audio_media_flow": "sendrecv",
  "variable_rtp_audio_recv_pt": "8",
  "variable_rtp_use_codec_name": "PCMA",
  "variable_rtp_use_codec_rate": "8000",
  "variable_rtp_use_codec_ptime": "20",
  "variable_rtp_use_codec_channels": "1",
  "variable_rtp_last_audio_codec_string": "PCMA@8000h@20i@1c",
  "variable_original_read_codec": "PCMA",
  "variable_original_read_rate": "8000",
  "variable_write_codec": "PCMA",
  "variable_write_rate": "8000",
  "variable_dtmf_type": "rfc2833",
  "variable_local_media_ip": "10.30.40.77",
  "variable_local_media_port": "28920",
  "variable_advertised_media_ip": "10.30.40.77",
  "variable_rtp_use_timer_name": "soft",
  "variable_rtp_use_pt": "8",
  "variable_rtp_use_ssrc": "1696552796",
  "variable_rtp_2833_send_payload": "101",
  "variable_rtp_2833_recv_payload": "101",
  "variable_remote_media_ip": "10.30.40.77",
  "variable_remote_media_port": "8000",
  "variable_endpoint_disposition": "EARLY MEDIA",
  "variable_rtp_local_sdp_str": "v=0\r\no=FreeSWITCH 1763002582 1763002583 IN IP4 10.30.40.77\r\ns=FreeSWITCH\r\nc=IN IP4 10.30.40.77\r\nt=0 0\r\nm=audio 28920 RTP/AVP 8 101\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=ptime:20\r\na=sendrecv\r\n",
  "variable_sip_hangup_disposition": "recv_cancel",
  "variable_sip_invite_failure_status": "487",
  "variable_sip_invite_failure_phrase": "CANCEL",
  "variable_sip_term_status": "487",
  "variable_proto_specific_hangup_cause": "sip:487",
  "variable_sip_term_cause": "487",
  "variable_read_codec": "PCMA",
  "variable_read_rate": "8000",
  "variable_originate_causes": "a4670a4d-cac6-4022-9f97-7ff77cfb9ee4;ORIGINATOR_CANCEL",
  "variable_originate_disposition": "ORIGINATOR_CANCEL",
  "variable_DIALSTATUS": "CANCEL",
  "variable_originate_failed_cause": "ORIGINATOR_CANCEL",
  "variable_hangup_cause": "ORIGINATOR_CANCEL",
  "variable_hangup_cause_q850": "16",
  "variable_digits_dialed": "none",
  "variable_start_stamp": "2025-11-13 16:28:12",
  "variable_profile_start_stamp": "2025-11-13 16:28:12",
  "variable_progress_stamp": "2025-11-13 16:28:22",
  "variable_progress_media_stamp": "2025-11-13 16:28:22",
  "variable_end_stamp": "2025-11-13 16:28:24",
  "variable_start_epoch": "1763031492",
  "variable_start_uepoch": "1763031492237294",
  "variable_profile_start_epoch": "1763031492",
  "variable_profile_start_uepoch": "1763031492237294",
  "variable_answer_epoch": "0",
  "variable_answer_uepoch": "0",
  "variable_bridge_epoch": "0",
  "variable_bridge_uepoch": "0",
  "variable_last_hold_epoch": "0",
  "variable_last_hold_uepoch": "0",
  "variable_hold_accum_seconds": "0",
  "variable_hold_accum_usec": "0",
  "variable_hold_accum_ms": "0",
  "variable_resurrect_epoch": "0",
  "variable_resurrect_uepoch": "0",
  "variable_progress_epoch": "1763031502",
  "variable_progress_uepoch": "1763031502277314",
  "variable_progress_media_epoch": "1763031502",
  "variable_progress_media_uepoch": "1763031502297295",
  "variable_end_epoch": "1763031504",
  "variable_end_uepoch": "1763031504077319",
  "variable_last_app": "bridge",
  "variable_last_arg": "user/1003@10.30.40.77",
  "variable_caller_id": "\"1001\" <1001>",
  "variable_duration": "12",
  "variable_billsec": "0",
  "variable_progresssec": "10",
  "variable_answersec": "0",
  "variable_waitsec": "0",
  "variable_progress_mediasec": "10",
  "variable_flow_billsec": "0",
  "variable_mduration": "11840",
  "variable_billmsec": "0",
  "variable_progressmsec": "10040",
  "variable_answermsec": "0",
  "variable_waitmsec": "0",
  "variable_progress_mediamsec": "10060",
  "variable_flow_billmsec": "0",
  "variable_uduration": "11840025",
  "variable_billusec": "0",
  "variable_progressusec": "10040020",
  "variable_answerusec": "0",
  "variable_waitusec": "0",
  "variable_progress_mediausec": "10060001",
  "variable_flow_billusec": "0",
  "variable_rtp_audio_in_raw_bytes": "14104",
  "variable_rtp_audio_in_media_bytes": "14104",
  "variable_rtp_audio_in_packet_count": "82",
  "variable_rtp_audio_in_media_packet_count": "82",
  "variable_rtp_audio_in_skip_packet_count": "7",
  "variable_rtp_audio_in_jitter_packet_count": "0",
  "variable_rtp_audio_in_dtmf_packet_count": "0",
  "variable_rtp_audio_in_cng_packet_count": "0",
  "variable_rtp_audio_in_flush_packet_count": "0",
  "variable_rtp_audio_in_largest_jb_size": "0",
  "variable_rtp_audio_in_jitter_min_variance": "0.00",
  "variable_rtp_audio_in_jitter_max_variance": "0.00",
  "variable_rtp_audio_in_jitter_loss_rate": "0.00",
  "variable_rtp_audio_in_jitter_burst_rate": "0.00",
  "variable_rtp_audio_in_mean_interval": "20.00",
  "variable_rtp_audio_in_flaw_total": "0",
  "variable_rtp_audio_in_quality_percentage": "100.00",
  "variable_rtp_audio_in_mos": "4.50",
  "variable_rtp_audio_out_raw_bytes": "15136",
  "variable_rtp_audio_out_media_bytes": "15136",
  "variable_rtp_audio_out_packet_count": "88",
  "variable_rtp_audio_out_media_packet_count": "88",
  "variable_rtp_audio_out_skip_packet_count": "0",
  "variable_rtp_audio_out_dtmf_packet_count": "0",
  "variable_rtp_audio_out_cng_packet_count": "0",
  "variable_rtp_audio_rtcp_packet_count": "0",
  "variable_rtp_audio_rtcp_octet_count": "0"
}
```

### 3. Call Originated from freeswitch originate command 

```json
{
  "Event-Name": "CHANNEL_HANGUP_COMPLETE",
  "Core-UUID": "897e7358-4598-4210-a3e3-745f96903647",
  "FreeSWITCH-Hostname": "OL03LTL-GNR0092",
  "FreeSWITCH-Switchname": "OL03LTL-GNR0092",
  "FreeSWITCH-IPv4": "10.30.40.77",
  "FreeSWITCH-IPv6": "::1",
  "Event-Date-Local": "2025-11-13 16:23:38",
  "Event-Date-GMT": "Thu, 13 Nov 2025 10:53:38 GMT",
  "Event-Date-Timestamp": "1763031218497314",
  "Event-Calling-File": "switch_core_state_machine.c",
  "Event-Calling-Function": "switch_core_session_reporting_state",
  "Event-Calling-Line-Number": "943",
  "Event-Sequence": "606",
  "Hangup-Cause": "NORMAL_CLEARING",
  "Channel-State": "CS_REPORTING",
  "Channel-Call-State": "HANGUP",
  "Channel-State-Number": "11",
  "Channel-Name": "sofia/external/3868158407",
  "Unique-ID": "86dc3bf6-fbbc-415d-bb41-6aba7f7ce113",
  "Call-Direction": "outbound",
  "Presence-Call-Direction": "outbound",
  "Channel-HIT-Dialplan": "true",
  "Channel-Call-UUID": "86dc3bf6-fbbc-415d-bb41-6aba7f7ce113",
  "Answer-State": "hangup",
  "Channel-Read-Codec-Name": "PCMU",
  "Channel-Read-Codec-Rate": "8000",
  "Channel-Read-Codec-Bit-Rate": "64000",
  "Channel-Write-Codec-Name": "PCMU",
  "Channel-Write-Codec-Rate": "8000",
  "Channel-Write-Codec-Bit-Rate": "64000",
  "Caller-Direction": "outbound",
  "Caller-Logical-Direction": "outbound",
  "Caller-Caller-ID-Name": "Outbound Call",
  "Caller-Caller-ID-Number": "3868158407",
  "Caller-Orig-Caller-ID-Name": "9111110001",
  "Caller-Orig-Caller-ID-Number": "9111110001",
  "Caller-Callee-ID-Name": "9111110001",
  "Caller-Callee-ID-Number": "9111110001",
  "Caller-Network-Addr": "10.30.40.77",
  "Caller-ANI": "9111110001",
  "Caller-Destination-Number": "3868158407",
  "Caller-Unique-ID": "86dc3bf6-fbbc-415d-bb41-6aba7f7ce113",
  "Caller-Source": "src/switch_ivr_originate.c",
  "Caller-Context": "default",
  "Caller-Channel-Name": "sofia/external/3868158407",
  "Caller-Profile-Index": "1",
  "Caller-Profile-Created-Time": "1763031211757307",
  "Caller-Channel-Created-Time": "1763031211757307",
  "Caller-Channel-Answered-Time": "1763031211757307",
  "Caller-Channel-Progress-Time": "1763031211757307",
  "Caller-Channel-Progress-Media-Time": "0",
  "Caller-Channel-Hangup-Time": "1763031218497314",
  "Caller-Channel-Transfer-Time": "0",
  "Caller-Channel-Resurrect-Time": "0",
  "Caller-Channel-Bridged-Time": "0",
  "Caller-Channel-Last-Hold": "0",
  "Caller-Channel-Hold-Accum": "0",
  "Caller-Screen-Bit": "true",
  "Caller-Privacy-Hide-Name": "false",
  "Caller-Privacy-Hide-Number": "false",
  "variable_direction": "outbound",
  "variable_is_outbound": "true",
  "variable_uuid": "86dc3bf6-fbbc-415d-bb41-6aba7f7ce113",
  "variable_session_id": "1",
  "variable_sip_gateway_name": "sipptester",
  "variable_sip_profile_name": "gateway",
  "variable_text_media_flow": "disabled",
  "variable_channel_name": "sofia/external/3868158407",
  "variable_sip_destination_url": "sip:3868158407@10.30.40.77:15001",
  "variable_sip_h_X-callId": "da1d8360-5612-4237-a387-bef6995995af",
  "variable_sip_h_X-campaignId": "8111001",
  "variable_sip_h_X-campaignInstanceId": "699d925d-f443-4f44-a03d-09472151f00e",
  "variable_sip_h_X-responseQueueName": "CALL_EVENTS_campaign-service-0",
  "variable_sip_h_X-campaignServiceId": "campaign-service-0",
  "variable_sip_h_X-gateway": "sipptester",
  "variable_sip_h_X-callServiceId": "call-service-1",
  "variable_origination_caller_id_name": "9111110001",
  "variable_origination_caller_id_number": "9111110001",
  "variable_originate_early_media": "true",
  "variable_originate_endpoint": "sofia",
  "variable_audio_media_flow": "sendrecv",
  "variable_local_video_ip": "10.30.40.77",
  "variable_local_video_port": "21774",
  "variable_video_media_flow": "sendrecv",
  "variable_rtp_local_sdp_str": "v=0\r\no=FreeSWITCH 1763008211 1763008212 IN IP4 10.30.40.77\r\ns=FreeSWITCH\r\nc=IN IP4 10.30.40.77\r\nt=0 0\r\nm=audio 23000 RTP/AVP 102 9 0 8 104 101\r\na=rtpmap:102 opus/48000/2\r\na=fmtp:102 useinbandfec=1; maxaveragebitrate=30000; maxplaybackrate=48000; ptime=20; minptime=10; maxptime=40\r\na=rtpmap:9 G722/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:104 telephone-event/48000\r\na=fmtp:104 0-15\r\na=rtpmap:101 telephone-event/8000\r\na=fmtp:101 0-15\r\na=ptime:20\r\na=sendrecv\r\nm=video 21774 RTP/AVP 103\r\nb=AS:3072\r\na=rtpmap:103 VP8/90000\r\na=sendrecv\r\na=rtcp-fb:103 ccm fir\r\na=rtcp-fb:103 ccm tmmbr\r\na=rtcp-fb:103 nack\r\na=rtcp-fb:103 nack pli\r\n",
  "variable_sip_outgoing_contact_uri": "<sip:gw+sipptester@27.107.1.210:5080;transport=udp;gw=sipptester>",
  "variable_sip_req_uri": "3868158407@10.30.40.77:15001",
  "variable_sofia_profile_name": "external",
  "variable_recovery_profile_name": "external",
  "variable_sofia_profile_url": "sip:mod_sofia@27.107.1.210:5080",
  "variable_sip_local_network_addr": "27.107.1.210",
  "variable_sip_reply_host": "10.30.40.77",
  "variable_sip_reply_port": "15001",
  "variable_sip_network_ip": "10.30.40.77",
  "variable_sip_network_port": "15001",
  "variable_sip_recover_contact": "<sip:127.0.1.1:15001;transport=UDP>",
  "variable_sip_full_via": "SIP/2.0/UDP 27.107.1.210:5080;rport;branch=z9hG4bKa4pj5SXjD9tjB",
  "variable_sip_recover_via": "SIP/2.0/UDP 27.107.1.210:5080;rport;branch=z9hG4bKa4pj5SXjD9tjB",
  "variable_sip_from_display": "9111110001",
  "variable_sip_full_from": "\"9111110001\" <sip:FreeSWITCH@10.30.40.77:15001>;tag=aUpjggt1XvSBc",
  "variable_sip_full_to": "<sip:3868158407@10.30.40.77:15001>;tag=12704SIPpTag0115",
  "variable_sip_from_user": "FreeSWITCH",
  "variable_sip_from_port": "15001",
  "variable_sip_from_uri": "FreeSWITCH@10.30.40.77:15001",
  "variable_sip_from_host": "10.30.40.77",
  "variable_sip_to_user": "3868158407",
  "variable_sip_to_port": "15001",
  "variable_sip_to_uri": "3868158407@10.30.40.77:15001",
  "variable_sip_to_host": "10.30.40.77",
  "variable_sip_contact_params": "transport=UDP",
  "variable_sip_contact_user": "nobody",
  "variable_sip_contact_port": "15001",
  "variable_sip_contact_uri": "nobody@127.0.1.1:15001",
  "variable_sip_contact_host": "127.0.1.1",
  "variable_sip_to_tag": "12704SIPpTag0115",
  "variable_sip_from_tag": "aUpjggt1XvSBc",
  "variable_sip_cseq": "106961813",
  "variable_sip_call_id": "d5ec2deb-3b21-123f-40b4-d0ad08a61780",
  "variable_switch_r_sdp": "v=0\r\no=user1 53655765 2353687637 IN IP4 127.0.1.1\r\ns=-\r\nc=IN IP4 127.0.1.1\r\nt=0 0\r\nm=audio 6000 RTP/AVP 0\r\na=rtpmap:0 PCMU/8000\r\n",
  "variable_ep_codec_string": "CORE_PCM_MODULE.PCMU@8000h@20i@64000b",
  "variable_rtp_use_codec_string": "OPUS,G722,PCMU,PCMA,H264,VP8",
  "variable_remote_video_media_flow": "inactive",
  "variable_remote_text_media_flow": "inactive",
  "variable_remote_audio_media_flow": "sendrecv",
  "variable_rtp_audio_recv_pt": "0",
  "variable_rtp_use_codec_name": "PCMU",
  "variable_rtp_use_codec_rate": "8000",
  "variable_rtp_use_codec_ptime": "20",
  "variable_rtp_use_codec_channels": "1",
  "variable_rtp_last_audio_codec_string": "PCMU@8000h@20i@1c",
  "variable_read_codec": "PCMU",
  "variable_original_read_codec": "PCMU",
  "variable_read_rate": "8000",
  "variable_original_read_rate": "8000",
  "variable_write_codec": "PCMU",
  "variable_write_rate": "8000",
  "variable_dtmf_type": "rfc2833",
  "variable_local_media_ip": "10.30.40.77",
  "variable_local_media_port": "23000",
  "variable_advertised_media_ip": "10.30.40.77",
  "variable_rtp_use_timer_name": "soft",
  "variable_rtp_use_pt": "0",
  "variable_rtp_use_ssrc": "3776405187",
  "variable_rtp_2833_send_payload": "101",
  "variable_rtp_2833_recv_payload": "101",
  "variable_remote_media_ip": "127.0.1.1",
  "variable_remote_media_port": "6000",
  "variable_endpoint_disposition": "ANSWER",
  "variable_pre_transfer_caller_id_name": "9111110001",
  "variable_pre_transfer_caller_id_number": "9111110001",
  "variable_channel_cid_flipped": "yes",
  "variable_call_uuid": "86dc3bf6-fbbc-415d-bb41-6aba7f7ce113",
  "variable_current_application_data": "/usr/share/freeswitch/sounds/en/us/callie/ivr/8000/ivr-you_are_number_one.wav",
  "variable_current_application": "playback",
  "variable_playback_last_offset_pos": "53794",
  "variable_playback_seconds": "6",
  "variable_playback_ms": "6724",
  "variable_playback_samples": "53794",
  "variable_current_application_response": "FILE PLAYED",
  "variable_hangup_cause": "NORMAL_CLEARING",
  "variable_hangup_cause_q850": "16",
  "variable_digits_dialed": "none",
  "variable_start_stamp": "2025-11-13 16:23:31",
  "variable_profile_start_stamp": "2025-11-13 16:23:31",
  "variable_answer_stamp": "2025-11-13 16:23:31",
  "variable_progress_stamp": "2025-11-13 16:23:31",
  "variable_end_stamp": "2025-11-13 16:23:38",
  "variable_start_epoch": "1763031211",
  "variable_start_uepoch": "1763031211757307",
  "variable_profile_start_epoch": "1763031211",
  "variable_profile_start_uepoch": "1763031211757307",
  "variable_answer_epoch": "1763031211",
  "variable_answer_uepoch": "1763031211757307",
  "variable_bridge_epoch": "0",
  "variable_bridge_uepoch": "0",
  "variable_last_hold_epoch": "0",
  "variable_last_hold_uepoch": "0",
  "variable_hold_accum_seconds": "0",
  "variable_hold_accum_usec": "0",
  "variable_hold_accum_ms": "0",
  "variable_resurrect_epoch": "0",
  "variable_resurrect_uepoch": "0",
  "variable_progress_epoch": "1763031211",
  "variable_progress_uepoch": "1763031211757307",
  "variable_progress_media_epoch": "0",
  "variable_progress_media_uepoch": "0",
  "variable_end_epoch": "1763031218",
  "variable_end_uepoch": "1763031218497314",
  "variable_last_app": "playback",
  "variable_last_arg": "/usr/share/freeswitch/sounds/en/us/callie/ivr/8000/ivr-you_are_number_one.wav",
  "variable_caller_id": "\"Outbound Call\" <3868158407>",
  "variable_duration": "7",
  "variable_billsec": "7",
  "variable_progresssec": "0",
  "variable_answersec": "0",
  "variable_waitsec": "0",
  "variable_progress_mediasec": "0",
  "variable_flow_billsec": "7",
  "variable_mduration": "6740",
  "variable_billmsec": "6740",
  "variable_progressmsec": "0",
  "variable_answermsec": "0",
  "variable_waitmsec": "0",
  "variable_progress_mediamsec": "0",
  "variable_flow_billmsec": "6740",
  "variable_uduration": "6740007",
  "variable_billusec": "6740007",
  "variable_progressusec": "0",
  "variable_answerusec": "0",
  "variable_waitusec": "0",
  "variable_progress_mediausec": "0",
  "variable_flow_billusec": "6740007",
  "variable_sip_hangup_disposition": "send_bye",
  "variable_rtp_audio_in_raw_bytes": "0",
  "variable_rtp_audio_in_media_bytes": "0",
  "variable_rtp_audio_in_packet_count": "0",
  "variable_rtp_audio_in_media_packet_count": "0",
  "variable_rtp_audio_in_skip_packet_count": "337",
  "variable_rtp_audio_in_jitter_packet_count": "0",
  "variable_rtp_audio_in_dtmf_packet_count": "0",
  "variable_rtp_audio_in_cng_packet_count": "0",
  "variable_rtp_audio_in_flush_packet_count": "0",
  "variable_rtp_audio_in_largest_jb_size": "0",
  "variable_rtp_audio_in_jitter_min_variance": "0.00",
  "variable_rtp_audio_in_jitter_max_variance": "0.00",
  "variable_rtp_audio_in_jitter_loss_rate": "0.00",
  "variable_rtp_audio_in_jitter_burst_rate": "0.00",
  "variable_rtp_audio_in_mean_interval": "0.00",
  "variable_rtp_audio_in_flaw_total": "0",
  "variable_rtp_audio_in_quality_percentage": "100.00",
  "variable_rtp_audio_in_mos": "4.50",
  "variable_rtp_audio_out_raw_bytes": "57964",
  "variable_rtp_audio_out_media_bytes": "57964",
  "variable_rtp_audio_out_packet_count": "337",
  "variable_rtp_audio_out_media_packet_count": "337",
  "variable_rtp_audio_out_skip_packet_count": "0",
  "variable_rtp_audio_out_dtmf_packet_count": "0",
  "variable_rtp_audio_out_cng_packet_count": "0",
  "variable_rtp_audio_rtcp_packet_count": "0",
  "variable_rtp_audio_rtcp_octet_count": "0"
}
```