<configuration name="callcenter.conf" description="Call Center">
  <settings>
    <!-- Use SQLite for better performance -->
    <param name="dbname" value="/dev/shm/callcenter.db"/>
    <!-- Clear agents on reload for testing -->
    <param name="truncate-agents-on-load" value="true"/>
    <param name="truncate-tiers-on-load" value="true"/>
  </settings>
  
  <queues>
    <!-- SBI Queues with different strategies -->
    <queue name="sbi_sales@default">
      <param name="strategy" value="longest-idle-agent"/>
      <param name="moh-sound" value="$${hold_music}"/>
      <param name="time-base-score" value="system"/>
      <param name="max-wait-time" value="300"/>
      <param name="max-wait-time-with-no-agent" value="60"/>
      <param name="max-wait-time-with-no-agent-time-reached" value="10"/>
      <param name="discard-abandoned-after" value="60"/>
      <param name="abandoned-resume-allowed" value="false"/>
    </queue>
    
    <queue name="sbi_marketing@default">
      <param name="strategy" value="round-robin"/>
      <param name="moh-sound" value="$${hold_music}"/>
      <param name="time-base-score" value="queue"/>
      <param name="max-wait-time" value="300"/>
    </queue>
    
    <queue name="sbi_accounts@default">
      <param name="strategy" value="ring-all"/>
      <param name="moh-sound" value="$${hold_music}"/>
      <param name="time-base-score" value="system"/>
      <param name="ring-progressively-delay" value="5"/>
    </queue>
    
  </queues>

  <!-- Agents Configuration -->
  <agents>
    <!-- SBI Agents -->
    <agent name="7001" type="callback" contact="[call_timeout=60]user/7001" status="Logged Out" max-no-answer="3" wrap-up-time="10" reject-delay-time="5" busy-delay-time="30" />
    <agent name="7002" type="callback" contact="[call_timeout=60]user/7002" status="Logged Out" max-no-answer="3" wrap-up-time="10" reject-delay-time="5" busy-delay-time="30" />
    
  </agents>

  <!-- Tiers Configuration - Agent to Queue Mapping -->
  <tiers>
    <!-- SBI Tiers -->
    <tier agent="7001" queue="sbi_sales@default" level="1" position="1"/>
    <tier agent="7001" queue="sbi_marketing@default" level="2" position="1"/>
    <tier agent="7001" queue="sbi_accounts@default" level="3" position="1"/>
    
    <tier agent="7002" queue="sbi_sales@default" level="1" position="2"/>
    <tier agent="7002" queue="sbi_marketing@default" level="2" position="2"/>
    <tier agent="7002" queue="sbi_accounts@default" level="3" position="2"/>

  </tiers>
</configuration>